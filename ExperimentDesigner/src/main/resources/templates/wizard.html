<!DOCTYPE html>
<!--
Copyright (C) 2016 Max Planck Institute for Psycholinguistics

This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
-->
<!--
 * @since Mar 4, 2016 11:23:23 AM (creation date)
 * @author Peter Withers <peter.withers@mpi.nl>
-->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Frinex Experiment Wizard</title>
    </head>
    <body>
        <div th:fragment="wizard">
            <form action="#" th:action="${contextPath + '/experiments/wizard/create'}" method="post">
                <table class="presenter">
                    <tr><td>Experiment Name</td><td><input type="text" th:field="${wizardData.appName}" /></td></tr>
                    <tr><td>obfuscateScreenNames</td><td><input type="checkbox" th:field="${wizardData.obfuscateScreenNames}" /></td></tr>
                    <tr><td>showMenuBar</td><td><input type="checkbox" th:field="${wizardData.showMenuBar}" /></td></tr>
                    <!--<tr><td>User select screen</td><td><input type="checkbox" th:field="${wizardData.userSelectScreen}" /></td></tr>-->
                    <!--<tr><td>User agreement screen</td><td><input type="checkbox" th:field="${wizardData.agreementScreen}" /><input type="text" th:field="${wizardData.agreementText}" /></td></tr>-->
                    <!--<tr><td>Agreement screen text</td><td><input type="text" th:field="${wizardData.agreementScreenText}" /></td></tr>-->
                    <!--<tr><td>Disagreement screen text</td><td><input type="text" th:field="${wizardData.disagreementScreenText}" /></td></tr>-->
                    <!--<tr><td>User metadata screen</td><td><input type="checkbox" th:field="${wizardData.metadataScreen}" /></td></tr>-->
                    <!--<tr><td>Metadata screen text</td><td><input type="text" th:field="${wizardData.metadataScreenText}" /></td></tr>-->
                    <!--<tr><td>First name field</td><td><input type="checkbox" th:field="${wizardData.firstNameField}" /></td></tr>-->
                    <!--<tr><td>Last name field</td><td><input type="checkbox" th:field="${wizardData.lastNameField}" /></td></tr>-->
                    <!--<tr><td>Speaker name field</td><td><input type="checkbox" th:field="${wizardData.speakerNameField}" /></td></tr>-->
                    <!--<tr><td>User age field</td><td><input type="checkbox" th:field="${wizardData.ageField}" /></td></tr>-->
                    <!--<tr><td>User email field</td><td><input type="checkbox" th:field="${wizardData.emailAddressField}" /></td></tr>-->
                    <!--<tr><td>Option CheckBox 1</td><td><input type="checkbox" /><input type="text" th:field="${wizardData.optionCheckBox1}" /></td></tr>-->
                    <!--<tr><td>Option CheckBox 2</td><td><input type="checkbox" /><input type="text" th:field="${wizardData.optionCheckBox2}" /></td></tr>-->
                    <!--<tr><td>mandatory CheckBox</td><td><input type="checkbox" /><input type="text" th:field="${wizardData.mandatoryCheckBox}" /></td></tr>-->
                    <!--<tr><td>Audio test screen</td><td><input type="checkbox" th:field="${wizardData.audioTestScreen}" /><input type="text" th:field="${wizardData.testAudioPath}" /></td></tr>-->
                    <!--<tr><td>Practice screen</td><td><input type="checkbox" th:field="${wizardData.practiceScreen}" /><input type="text" th:field="${wizardData.practiceStimuliPath}" /></td></tr>-->
                    <!--<tr><td>Stimuli screen</td><td><input type="checkbox" th:field="${wizardData.stimuliScreen}" /><input type="text" th:field="${wizardData.stimuliPath}" /></td></tr>-->
                    <!--<tr><td>Colour picker screen</td><td><input type="checkbox" th:field="${wizardData.colourPickerScreen}" /></td></tr>-->
                    <!--<tr><td>Colour report screen</td><td><input type="checkbox" th:field="${wizardData.colourReportScreen}" /></td></tr>-->
                    <!--<tr><td>Completion code/data upload screen</td><td><input type="checkbox" th:field="${wizardData.completionScreen}" /><input type="text" th:field="${wizardData.completionText}" /></td></tr>-->        
                    <!--<tr><td>Menu screen</td><td><input type="checkbox" th:field="${wizardData.menuScreen}" /></td></tr>-->        
                    <tr><td><button type="reset" >Reset</button></td><td><button type="submit" name="saveExperiment">Create Experiment</button></td></tr>
                </table>  
                <ul id="wizardScreenList">
                    <li th:each="wizardScreen : ${wizardData.getWizardScreens()}" th:fragment="wizardScreenForm"
                        th:id="${'updateWizardForm' + wizardScreen.getScreenTag()}"
                        draggable="true"
                        ondragstart="drag(event)"
                        ondrop="drop(event)" 
                        ondragover="allowDrop(event)"
                         class="presenter">
                        <form class="table">
                            <input name="screenTitle" th:value="${wizardScreen.getScreenTitle()}" /><br/>
                            <div>
                                <b>AbstractWizardScreen</b><br/>
                                <span>backWizardScreen</span><span><input name="backWizardScreen" th:value="${(wizardScreen.getBackWizardScreen()!=null)?wizardScreen.getBackWizardScreen().getScreenTitle():''}" /></span><br/>
                                <span>nextWizardScreen</span><span><input name="nextWizardScreen" th:value="${(wizardScreen.nextWizardScreen!=null)?wizardScreen.nextWizardScreen.getScreenTitle():''}" /></span><br/>
                                <span>screenText</span><span><div th:utext="${wizardScreen.getScreenText()}" /><textarea name="screenText" th:text="${wizardScreen.getScreenText()}" /></span><br/>
                                <span>nextButton</span><span><input name="nextButton" th:value="${wizardScreen.nextButton}" /></span><br/>
                                <span>screenTitle</span><span><input name="screenTitle" th:value="${wizardScreen.screenTitle}" /></span><br/>
                                <span>menuLabel</span><span><input name="menuLabel" th:value="${wizardScreen.menuLabel}" /></span><br/>
                                <span>screenTag</span><span><input name="screenTag" th:value="${wizardScreen.screenTag}" /></span><br/>
                                <!--<span>centreScreen</span><span><input type="checkbox" th:field="${wizardScreen.centreScreen}" /></span><br/>-->
                            </div>
                            <div th:if="${wizardScreen.class.name == 'nl.mpi.tg.eg.experimentdesigner.model.wizard.WizardAboutScreen'}">WizardAboutScreen</div>
                            <div th:if="${wizardScreen.class.name == 'nl.mpi.tg.eg.experimentdesigner.model.wizard.WizardAgreementScreen'}">WizardAgreementScreen</div>
                            <div th:if="${wizardScreen.class.name == 'nl.mpi.tg.eg.experimentdesigner.model.wizard.WizardAudioRecorderMetadataScreen'}">WizardAudioRecorderMetadataScreen</div>
                            <div th:if="${wizardScreen.class.name == 'nl.mpi.tg.eg.experimentdesigner.model.wizard.WizardAudioTestScreen'}">WizardAudioTestScreen</div>
                            <div th:if="${wizardScreen.class.name == 'nl.mpi.tg.eg.experimentdesigner.model.wizard.WizardCompletionScreen'}">WizardCompletionScreen</div>
                            <div th:if="${wizardScreen.class.name == 'nl.mpi.tg.eg.experimentdesigner.model.wizard.WizardEditUserScreen'}">WizardEditUserScreen</div>
                            <div th:if="${wizardScreen.class.name == 'nl.mpi.tg.eg.experimentdesigner.model.wizard.WizardExistingUserCheckScreen'}">WizardExistingUserCheckScreen</div>
                            <div th:if="${wizardScreen.class.name == 'nl.mpi.tg.eg.experimentdesigner.model.wizard.WizardKinshipScreen'}">WizardKinshipScreen</div>
                            <div th:if="${wizardScreen.class.name == 'nl.mpi.tg.eg.experimentdesigner.model.wizard.WizardMenuScreen'}">WizardMenuScreen</div>
                            <div th:if="${wizardScreen.class.name == 'nl.mpi.tg.eg.experimentdesigner.model.wizard.WizardRandomStimulusScreen'}">WizardRandomStimulusScreen</div>
                            <div th:if="${wizardScreen.class.name == 'nl.mpi.tg.eg.experimentdesigner.model.wizard.WizardScreen'}">WizardScreen</div>
                            <div th:if="${wizardScreen.class.name == 'nl.mpi.tg.eg.experimentdesigner.model.wizard.WizardSelectUserScreen'}">WizardSelectUserScreen</div>
                            <div th:if="${wizardScreen.class.name == 'nl.mpi.tg.eg.experimentdesigner.model.wizard.WizardStimulusScreen'}">WizardStimulusScreen</div>
                            <div th:if="${wizardScreen.class.name == 'nl.mpi.tg.eg.experimentdesigner.model.wizard.WizardSubmitDataScreen'}">WizardSubmitDataScreen</div>
                            <div th:if="${wizardScreen.class.name == 'nl.mpi.tg.eg.experimentdesigner.model.wizard.WizardTextScreen'}">
                                <b>WizardTextScreen</b>
                                <!--                                <span>Screen text</span><span><input type="text" th:field="${wizardScreen.getScreenText()}" /></span>
                                                                <span>Next button label</span><span><input type="text" th:field="${wizardScreen.nextButton}" /></span>-->
                            </div>
                            <div th:if="${wizardScreen.class.name == 'nl.mpi.tg.eg.experimentdesigner.model.wizard.WizardWelcomeScreen'}">WizardWelcomeScreen</div>
                        </form>
                    </li>
                </ul>
                <script>
                    function allowDrop(ev) {
                        ev.preventDefault();
                    }

                    function drag(ev) {
                        ev.dataTransfer.setData("text", ev.target.id);
                    }

                    function drop(ev) {
                        ev.preventDefault();
                        var data = ev.dataTransfer.getData("text");
                        var list = document.getElementById("wizardScreenList");
                        list.insertBefore(document.getElementById(data), ev.target);
                    }
                </script>

            </form>
        </div>
    </body>
</html>

<?xml version="1.0" encoding="UTF-8"?>
<!--
Copyright (C) 2015 

This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
-->
<!--
    Created on : Jun 17, 2015, 17:01 PM
    Author     : Peter Withers <peter.withers@mpi.nl>
-->

<experiment displayName="Test Experiment" localStorageName="TestExperiment" dataSubmitUrl="http://localhost:8080/frinex/" staticFilesUrl="static/">
    <metadata>
        <field postName="playername" registrationField="Player name *" controlledRegex=".'{'3,'}'" controlledMessage="Please enter at least three letters." />
        <field postName="age" fieldValues="0-10,11-20,&gt;20" registrationField="Age" />
        <field postName="rabbit" fieldValues="true,false" registrationField="Do you have a rabbit?" controlledRegex="yes" controlledMessage="It is unacceptable to give any answer than 'yes'." />
        <field postName="share" registrationField="Share" fieldValues="true,false" controlledRegex="true" controlledMessage="Data will not be shared unless you agree to do so."/>
        <field registrationField="Spoken languages" postName="languages" />
    </metadata>
    <presenter type="menu" menuLabel="Main Menu" self="MainMenu">
        <menuItem fieldName="aboutScreenMenuLabel" target="AboutPage">About Page</menuItem>
        <menuItem fieldName="menuLabelStrayMessages" target="StrayMessages"/>
        <menuItem fieldName="menuLabelPreloadStimulus" target="PreloadStimulus"/>
        <menuItem fieldName="menuLabelResultsPage" target="ResultsPage"/>
        <menuItem fieldName="menuLabelStimulusPage" target="StimulusPage"/>
        <menuItem fieldName="menuLabelMetadata" target="Metadata"/>
        <menuItem fieldName="menuLabelStimulusGrid" target="StimulusGrid"/>
    </presenter>
    <presenter type="stimulus" menuLabel="Toggle Stimulus" back="MainMenu" self="StimulusGrid">
        <showStimulusGrid columnCount="3" imageWidth="100px">
            <optionButton fieldName="completeLabel" target="ResultsPage">Done</optionButton>
        </showStimulusGrid>
        <stimulusAudio timeToNext="0">
        </stimulusAudio>
    </presenter>
    <presenter type="preload" menuLabel="Preload Stimulus" back="MainMenu" self="PreloadStimulus">
        <htmlText fieldName="preloadingMessage">Preloading image files</htmlText>
        <preloadAllStimuli>
            <logTimeStamp tagName="preloaded" />
            <optionButton fieldName="menuLabelStimulusPage" target="StimulusPage"/>
        </preloadAllStimuli>
    </presenter>
    <presenter type="text" menuLabel="Option Menu" back="MainMenu" self="OptionMenu" next="AboutPage">
        <optionButton fieldName="aboutScreenMenuLabel" target="AboutPage" />
    </presenter>
    <presenter type="metadata" menuLabel="User Info" back="MainMenu" self="Metadata" next="PreloadStimulus">
        <allMetadataFields/>
    </presenter>
    <presenter type="debug" menuLabel="Debug Page" back="MainMenu" self="ResultsPage" next="StimulusPage">
        <eraseLocalStorageButton/>
        <localStorageData/>
    </presenter>
    <presenter type="stimulus" menuLabel="Stimulus Screen" back="MainMenu" self="StimulusPage">
        <htmlText fieldName="stimulusHeading">Some Stimulus</htmlText>
        <showCurrentMs/>
        <stimulusImage width="10" timeToNext="1000">            
            <logTimeStamp tagName="stimulus1Shown" />
            <showCurrentMs/>
            <stimulusImage width="50" timeToNext="1000">         
                <logTimeStamp tagName="stimulus2Shown" />
                <showCurrentMs/>
                <stimulusAudio timeToNext="2000">
                    <showCurrentMs/>
                    <optionButton fieldName="showMore" target="StimulusPage">More</optionButton>
                    <optionButton fieldName="completeLabel" target="ResultsPage">Done</optionButton>
                </stimulusAudio>
            </stimulusImage>
        </stimulusImage>
    </presenter>
    <presenter type="text" menuLabel="Stray Messages Screen" back="MainMenu" self="StrayMessages" next="AboutPage">
        <htmlText fieldName="aboutScreenTextJheading">---</htmlText>
        <htmlText fieldName="errorScreenTitle">---</htmlText>
        <htmlText fieldName="localeScreenTitle">---</htmlText>
        <htmlText fieldName="languageInteractionUrl">---</htmlText>
        <htmlText fieldName="stopSharingScreenTitle">---</htmlText>
        <!--<htmlText fieldName="errorScreenText"></htmlText>-->
        <!--<userInfo fieldName="stopSharingDetailsExplanation">({0}) and unique id ({1})</userInfo>-->
    </presenter>
    <presenter type="text" menuLabel="About Page" back="MainMenu" self="AboutPage" next="OptionMenu">
        <title fieldName="versionScreenTitle">Version</title>
        <!--<Image width="10" image="images/icon.png"/>-->
        <highlightedText fieldName="aboutScreenTextAheading">A Heading</highlightedText>
        <htmlText fieldName="aboutScreenTextAbody">A body</htmlText>
        <padding/>
        <htmlText fieldName="aboutScreenTextBheading">&lt;b&gt;B h&lt;/b&gt;</htmlText>
        <htmlText fieldName="aboutScreenTextBbody">Bh</htmlText>
        <htmlText fieldName="aboutScreenTextCheading">Ch</htmlText>
        <htmlText fieldName="aboutScreenTextCbody">Cb</htmlText>
        <htmlText fieldName="aboutScreenTextDheading">Dh</htmlText>
        <htmlText fieldName="aboutScreenTextDbody">Db</htmlText>
        <htmlText fieldName="aboutScreenTextEheading">Eh</htmlText>
        <htmlText fieldName="aboutScreenTextEbody">Eb</htmlText>
        <versionData/>
    </presenter>
</experiment>
